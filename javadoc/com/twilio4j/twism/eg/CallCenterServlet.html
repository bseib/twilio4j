<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_51) on Fri Mar 18 15:05:28 EDT 2016 -->
<title>CallCenterServlet (Twilio4j 1.0.10 API)</title>
<meta name="date" content="2016-03-18">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CallCenterServlet (Twilio4j 1.0.10 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CallCenterServlet.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../com/twilio4j/twism/eg/CallCenterState.html" title="enum in com.twilio4j.twism.eg"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/twilio4j/twism/eg/CallCenterServlet.html" target="_top">Frames</a></li>
<li><a href="CallCenterServlet.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_com.twilio4j.twism.TwilioStateMachineServlet">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.twilio4j.twism.eg</div>
<h2 title="Class CallCenterServlet" class="title">Class CallCenterServlet</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>javax.servlet.GenericServlet</li>
<li>
<ul class="inheritance">
<li>javax.servlet.http.HttpServlet</li>
<li>
<ul class="inheritance">
<li><a href="../../../../com/twilio4j/twism/TwilioStateMachineServletBase.html" title="class in com.twilio4j.twism">com.twilio4j.twism.TwilioStateMachineServletBase</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html" title="class in com.twilio4j.twism">com.twilio4j.twism.TwilioStateMachineServlet</a>&lt;<a href="../../../../com/twilio4j/twism/eg/CallCenterState.html" title="enum in com.twilio4j.twism.eg">CallCenterState</a>&gt;</li>
<li>
<ul class="inheritance">
<li>com.twilio4j.twism.eg.CallCenterServlet</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, javax.servlet.Servlet, javax.servlet.ServletConfig</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">CallCenterServlet</span>
extends <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html" title="class in com.twilio4j.twism">TwilioStateMachineServlet</a>&lt;<a href="../../../../com/twilio4j/twism/eg/CallCenterState.html" title="enum in com.twilio4j.twism.eg">CallCenterState</a>&gt;</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../serialized-form.html#com.twilio4j.twism.eg.CallCenterServlet">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_com.twilio4j.twism.TwilioStateMachineServlet">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;com.twilio4j.twism.<a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html" title="class in com.twilio4j.twism">TwilioStateMachineServlet</a></h3>
<code><a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.Executes.html" title="class in com.twilio4j.twism">TwilioStateMachineServlet.Executes</a>&lt;<a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.Executes.html" title="type parameter in TwilioStateMachineServlet.Executes">EEE</a>&gt;, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.RespondsWith.html" title="class in com.twilio4j.twism">TwilioStateMachineServlet.RespondsWith</a>&lt;<a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.RespondsWith.html" title="type parameter in TwilioStateMachineServlet.RespondsWith">EE</a>&gt;, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.TwilioCallback.html" title="interface in com.twilio4j.twism">TwilioStateMachineServlet.TwilioCallback</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.TwilioHandler.html" title="interface in com.twilio4j.twism">TwilioStateMachineServlet.TwilioHandler</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/twilio4j/twism/eg/CallCenterServlet.html#CallCenterServlet()">CallCenterServlet</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../com/twilio4j/twism/eg/CallCenterServlet.html#getFortyCharacterSecret()">getFortyCharacterSecret</a></strong>()</code>
<div class="block">
 This function provides a constant which is used to digitally sign the payload of a cookie.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/twilio4j/twism/eg/CallCenterState.html" title="enum in com.twilio4j.twism.eg">CallCenterState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/twilio4j/twism/eg/CallCenterServlet.html#getInitialState(com.twilio4j.twism.TwilioParameters)">getInitialState</a></strong>(<a href="../../../../com/twilio4j/twism/TwilioParameters.html" title="class in com.twilio4j.twism">TwilioParameters</a>&nbsp;params)</code>
<div class="block">Your state machine class must specify which enumerated type represents
 the initial state of the state machine.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/twilio4j/twism/eg/CallCenterState.html" title="enum in com.twilio4j.twism.eg">CallCenterState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/twilio4j/twism/eg/CallCenterServlet.html#lookupState(java.lang.String)">lookupState</a></strong>(java.lang.String&nbsp;pathInfo)</code>
<div class="block">The content of the url beyond the servletPath will exactly match the name
 of the enumerated type.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.twilio4j.twism.TwilioStateMachineServlet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.twilio4j.twism.<a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html" title="class in com.twilio4j.twism">TwilioStateMachineServlet</a></h3>
<code><a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#advanceState(java.lang.String, com.twilio4j.twism.TwilioParameters)">advanceState</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#callback(E)">callback</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#client(java.lang.String)">client</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#conference(java.lang.String)">conference</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#dial(com.twilio4j.twiml.NestInDial...)">dial</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#enqueue(java.lang.String)">enqueue</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#gather(com.twilio4j.twiml.NestInGather...)">gather</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#getBaseUrl()">getBaseUrl</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#handler(E)">handler</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#hangup()">hangup</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#leave()">leave</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#number(java.lang.String)">number</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#pause()">pause</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#play(java.lang.String)">play</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#queue(java.lang.String)">queue</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#record()">record</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#redirect(E)">redirect</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#reject()">reject</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#response(com.twilio4j.twiml.TwiML...)">response</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#say(java.lang.String)">say</a>, <a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#sms(java.lang.String)">sms</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_javax.servlet.http.HttpServlet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;javax.servlet.http.HttpServlet</h3>
<code>service</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_javax.servlet.GenericServlet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;javax.servlet.GenericServlet</h3>
<code>destroy, getInitParameter, getInitParameterNames, getServletConfig, getServletContext, getServletInfo, getServletName, init, init, log, log</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CallCenterServlet()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CallCenterServlet</h4>
<pre>public&nbsp;CallCenterServlet()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getFortyCharacterSecret()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFortyCharacterSecret</h4>
<pre>public&nbsp;java.lang.String&nbsp;getFortyCharacterSecret()</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../com/twilio4j/twism/TwilioStateMachineServletBase.html#getFortyCharacterSecret()">TwilioStateMachineServletBase</a></code></strong></div>
<div class="block"><p>
 This function provides a constant which is used to digitally sign the payload of a cookie. Here is the
 background:
 </p>
 <p>
 A HashMap (called userParams) is persisted in a cookie after each POST or GET, for the duration of the phone
 call. Anytime Twilio makes a POST or GET, you are passed these userParams and have the opportunity to alter their
 state. This servlet will take care of writing that state back out as a cookie.
 </p>
 <p>
 The "forty character secret" doesn't have to be forty characters, but should be on that order of magnitude in
 length. How it is used is this: The userParams hash map is flattened into a string with proper escaping, etc.
 This flattened value is concatenated with the secret, and a SHA1 hash is made of it. Then the flattened user
 params and the SHA1 hash become the payload of the cookie. Whenever the cookie comes back later, the payload is
 checked to know that is was not tampered with.
 </p>
 <p>
 Without this measure, it could be possible for a rogue HTTP client to connect to an intermediate state in your
 state machine and invoke an action that you did not wish to make "public". Note, this measure does not prevent
 any rogue clients from sending you a POST or GET. It will only ensure that the userParams are ones that you
 intended to set, and that they are not forged. It is still up to you to have an initial state use a Gather to
 authorize entry into the state machine.
 </p>
 <p>
 So just return a long string that is a "random" bunch of characters.
 </p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/twilio4j/twism/TwilioStateMachineServletBase.html#getFortyCharacterSecret()">getFortyCharacterSecret</a></code>&nbsp;in class&nbsp;<code><a href="../../../../com/twilio4j/twism/TwilioStateMachineServletBase.html" title="class in com.twilio4j.twism">TwilioStateMachineServletBase</a></code></dd>
</dl>
</li>
</ul>
<a name="getInitialState(com.twilio4j.twism.TwilioParameters)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInitialState</h4>
<pre>public&nbsp;<a href="../../../../com/twilio4j/twism/eg/CallCenterState.html" title="enum in com.twilio4j.twism.eg">CallCenterState</a>&nbsp;getInitialState(<a href="../../../../com/twilio4j/twism/TwilioParameters.html" title="class in com.twilio4j.twism">TwilioParameters</a>&nbsp;params)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#getInitialState(com.twilio4j.twism.TwilioParameters)">TwilioStateMachineServlet</a></code></strong></div>
<div class="block"><p>Your state machine class must specify which enumerated type represents
 the initial state of the state machine. This is the state that will be
 entered when a call is first connected.</p>
 
 <p>Note: in the web.xml suppose you map the servlet path /t/* to your state
 machine servlet. Upon the very first call, Twilio will invoke the servlet
 with /t and therefore will need to lookup the initial state, so that it may
 behave just as if the servlet were invoked as /t/INITIAL_STATE etc.</p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#getInitialState(com.twilio4j.twism.TwilioParameters)">getInitialState</a></code>&nbsp;in class&nbsp;<code><a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html" title="class in com.twilio4j.twism">TwilioStateMachineServlet</a>&lt;<a href="../../../../com/twilio4j/twism/eg/CallCenterState.html" title="enum in com.twilio4j.twism.eg">CallCenterState</a>&gt;</code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>params</code> - TwilioParameters are passed such that a state machine
 can dynamically decided the initial state. This is useful if you might have
 multiple, independent state machines. In that case, this function acts as a
 dispatcher when you set your twilio callback URL to point at this URL without
 a particular state in the URL path. This parameter may be ignored if you have
 a fixed initial state.</dd>
<dt><span class="strong">Returns:</span></dt><dd>E enumerated type that represents the initial state.</dd></dl>
</li>
</ul>
<a name="lookupState(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>lookupState</h4>
<pre>public&nbsp;<a href="../../../../com/twilio4j/twism/eg/CallCenterState.html" title="enum in com.twilio4j.twism.eg">CallCenterState</a>&nbsp;lookupState(java.lang.String&nbsp;pathInfo)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#lookupState(java.lang.String)">TwilioStateMachineServlet</a></code></strong></div>
<div class="block"><p>The content of the url beyond the servletPath will exactly match the name
 of the enumerated type. That string will be passed to you so that you can look
 it up in your enumerated type and return us your official enumerated type. We'd
 do it ourselves, but we can't invoke a static function on a Generic type.</p>
 
 <p>Just return this one-liner for us:  YourEnum.valueOf(pathInfo);</p></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html#lookupState(java.lang.String)">lookupState</a></code>&nbsp;in class&nbsp;<code><a href="../../../../com/twilio4j/twism/TwilioStateMachineServlet.html" title="class in com.twilio4j.twism">TwilioStateMachineServlet</a>&lt;<a href="../../../../com/twilio4j/twism/eg/CallCenterState.html" title="enum in com.twilio4j.twism.eg">CallCenterState</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>E enumerated type that corresponds to the current url.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CallCenterServlet.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../com/twilio4j/twism/eg/CallCenterState.html" title="enum in com.twilio4j.twism.eg"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/twilio4j/twism/eg/CallCenterServlet.html" target="_top">Frames</a></li>
<li><a href="CallCenterServlet.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_com.twilio4j.twism.TwilioStateMachineServlet">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><i>Copyright &#169; 2016 Gentomi, Inc. All Rights Reserved.</i></small></p>
</body>
</html>
